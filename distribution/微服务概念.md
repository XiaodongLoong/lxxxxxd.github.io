## 一 微服务架构

微服务架构：一种软件架构，旨在对一个大型系统按照一定的规则进行切分，分成职责单一的多个模块（微服务），降低耦合，对各个模块进行分布式管理，各个微服务使用轻量化的通信机制通信。

微服务架构  = 模块化开发 + 分布式计算

## 二 微服务

微服务：微服务架构实践的产品，具有如下的特征：（松耦合，隔离，分布式管理）

1.功能相对独立

2.单独部署，单独的进程

3.业务内聚

4.分布式管理

5.隔离

形象的为一个立方体：

![img]

X轴：运行多个负载均衡器之后的运行实例

Y轴：将应用进一步分解为微服务（分库）

Z轴：大数据量时，将服务分区（分表）

微服务拆分原则：

1、分布式服务组成的系统

2、按照业务，而不是技术来划分组织

3、做有生命的产品而不是项目

4、强服务个体和弱通信（ Smart endpoints and dumb pipes ）

5、自动化运维（ DevOps ）

6、高度容错性

7、快速演化和迭代

常见的微服务间通信的机制

同步机制：(性能差，实现简单)

REST：Spring Boot，JAX-RS

RPC：Dubbo，Thrift，gRPC

异步机制：

Kafka，Notify

服务注册，服务发现：

基于客户端的方案：Dubbo

基于服务端的方案：AWS ELB Elastic Loader Balancer

服务挂了，如何解决

1.重试机制

2.限流

3.熔断

4.负载均衡

5.降级

## 三 微服务设计

微服务设计模式：

1.聚合器设计模式：对后端的微服务的数据进行整合，可以有数据缓存，数据库存储

2.代理微服务设计模式：对后端的微服务数据不进行整合，只做转发，提供统一入口

3.链式微服务设计模式：链不宜过长

4.分支微服务设计模式：

5.数据共享微服务设计模式：过度阶段使用。

6.异步消息传递

## 四 微服务架构优点

